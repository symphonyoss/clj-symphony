<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clj-symphony.room documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clj-symphony</span> <span class="project-version">1.0.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-symphony</span></div></div></li><li class="depth-2 branch"><a href="clj-symphony.chat.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chat</span></div></a></li><li class="depth-2 branch"><a href="clj-symphony.connect.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>connect</span></div></a></li><li class="depth-2 branch"><a href="clj-symphony.message.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>message</span></div></a></li><li class="depth-2 branch current"><a href="clj-symphony.room.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>room</span></div></a></li><li class="depth-2 branch"><a href="clj-symphony.stream.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stream</span></div></a></li><li class="depth-2 branch"><a href="clj-symphony.user.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user</span></div></a></li><li class="depth-2"><a href="clj-symphony.user-connection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user-connection</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-symphony.room.html#var-add-user-to-room.21"><div class="inner"><span>add-user-to-room!</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-add-users-to-room.21"><div class="inner"><span>add-users-to-room!</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-create-room.21"><div class="inner"><span>create-room!</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-create-roomobj.21"><div class="inner"><span>create-roomobj!</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-deactivate-room.21"><div class="inner"><span>deactivate-room!</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-remove-user-from-room.21"><div class="inner"><span>remove-user-from-room!</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-remove-users-from-room.21"><div class="inner"><span>remove-users-from-room!</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-room"><div class="inner"><span>room</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-room-members"><div class="inner"><span>room-members</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-roomobj"><div class="inner"><span>roomobj</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-roomobj-.3Emap"><div class="inner"><span>roomobj-&gt;map</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-roomobjs"><div class="inner"><span>roomobjs</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-rooms"><div class="inner"><span>rooms</span></div></a></li><li class="depth-1"><a href="clj-symphony.room.html#var-update-room.21"><div class="inner"><span>update-room!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-symphony.room</h1><div class="doc"><div class="markdown"><p>Operations related to ‘rooms’. A ‘room’ is a named chat containing 1 or more participants from 1 or 2 pods.</p></div></div><div class="public anchor" id="var-add-user-to-room.21"><h3>add-user-to-room!</h3><div class="usage"><code>(add-user-to-room! c r u)</code></div><div class="doc"><div class="markdown"><p>Add a user (either identified as per <a href="clj-symphony.user.html#var-user-id">clj-symphony.user/user-id</a>, or using an email address) to the given room.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L222">view source</a></div></div><div class="public anchor" id="var-add-users-to-room.21"><h3>add-users-to-room!</h3><div class="usage"><code>(add-users-to-room! c r u)</code></div><div class="doc"><div class="markdown"><p>Add all of the provided users (identified as per <a href="clj-symphony.user.html#var-user-id">clj-symphony.user/user-id</a>, or using an email address) to the given room.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L234">view source</a></div></div><div class="public anchor" id="var-create-room.21"><h3>create-room!</h3><div class="usage"><code>(create-room! c r)</code></div><div class="doc"><div class="markdown"><p>Create a new room, returning it as a map. See <a href="clj-symphony.room.html#var-create-roomobj.21">create-roomobj!</a> for details.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L185">view source</a></div></div><div class="public anchor" id="var-create-roomobj.21"><h3>create-roomobj!</h3><h4 class="type">multimethod</h4><div class="usage"><code>(create-roomobj! c r)</code></div><div class="doc"><div class="markdown"><p>Creates a new room and returns the <code>org.symphonyoss.symphony.clients.model.SymRoomDetail</code> object for it. The details of the room can be provided as a <code>org.symphonyoss.symphony.clients.model.SymRoomAttributes</code> object, or a map with these keys:</p>
<table>
  <thead>
    <tr>
      <th>Key </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>:name</code> </td>
      <td>Name of the room. </td>
    </tr>
    <tr>
      <td><code>:description</code> </td>
      <td>Description of the room. </td>
    </tr>
    <tr>
      <td><code>:public</code> </td>
      <td>Boolean indicating whether the room is ‘public’ (i.e. cross-pod enabled). </td>
    </tr>
    <tr>
      <td><code>:read-only</code> </td>
      <td>Boolean indicating whether the room is read/only. </td>
    </tr>
    <tr>
      <td><code>:discoverable</code> </td>
      <td>Boolean indicating whether the room is discoverable (searchable). </td>
    </tr>
    <tr>
      <td><code>:copy-protected</code> </td>
      <td>Boolean indicating whether the room is copy protected. </td>
    </tr>
    <tr>
      <td><code>:can-members-invite</code> </td>
      <td>Boolean indicating whether members can invite others to the room. </td>
    </tr>
    <tr>
      <td><code>:keywords</code> </td>
      <td>A map containing ‘keywords’ (key/value pairs, both of which must be strings) for the room. </td>
    </tr>
  </tbody>
</table>
<p><code>:name</code> is mandatory (it must be present and cannot be <code>nil</code>).</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L154">view source</a></div></div><div class="public anchor" id="var-deactivate-room.21"><h3>deactivate-room!</h3><div class="usage"><code>(deactivate-room! c r)</code></div><div class="doc"><div class="markdown"><p>Deactivates the given room.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L215">view source</a></div></div><div class="public anchor" id="var-remove-user-from-room.21"><h3>remove-user-from-room!</h3><div class="usage"><code>(remove-user-from-room! c r u)</code></div><div class="doc"><div class="markdown"><p>Remove a user (either identified as per <a href="clj-symphony.user.html#var-user-id">clj-symphony.user/user-id</a>, or using an email address) from the given room.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L242">view source</a></div></div><div class="public anchor" id="var-remove-users-from-room.21"><h3>remove-users-from-room!</h3><div class="usage"><code>(remove-users-from-room! c r u)</code></div><div class="doc"><div class="markdown"><p>Remove all of the provided users (identified as per <a href="clj-symphony.user.html#var-user-id">clj-symphony.user/user-id</a>, or using an email address) from the given room.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L254">view source</a></div></div><div class="public anchor" id="var-room"><h3>room</h3><div class="usage"><code>(room c r)</code></div><div class="doc"><div class="markdown"><p>Returns the given room as a map (see <a href="clj-symphony.room.html#var-roomobj-.3Emap">roomobj-&gt;map</a> for details), or <code>nil</code> if the room doesn’t exist. <code>r</code> can be anything supported by <a href="clj-symphony.room.html#var-roomobj">roomobj</a>.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L92">view source</a></div></div><div class="public anchor" id="var-room-members"><h3>room-members</h3><div class="usage"><code>(room-members c r)</code></div><div class="doc"><div class="markdown"><p>Returns all users participating in the given room, as a sequence of maps (see <a href="clj-symphony.user.html#var-userobj-.3Emap">clj-symphony.user/userobj-&gt;map</a> for details on the map structure).</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L118">view source</a></div></div><div class="public anchor" id="var-roomobj"><h3>roomobj</h3><h4 class="type">multimethod</h4><div class="usage"><code>(roomobj c r)</code></div><div class="doc"><div class="markdown"><p>Returns an <code>org.symphonyoss.symphony.clients.model.SymRoomDetail</code> object for the given room (as a stream id or map containing a <code>:stream-id</code>). Returns <code>nil</code> if the room doesn’t exist.</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L67">view source</a></div></div><div class="public anchor" id="var-roomobj-.3Emap"><h3>roomobj-&gt;map</h3><div class="usage"><code>(roomobj-&gt;map r)</code></div><div class="doc"><div class="markdown"><p>Converts a <code>org.symphonyoss.symphony.clients.model.SymRoomDetail</code> object into a map with these keys:</p>
<table>
  <thead>
    <tr>
      <th>Key </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>:stream-id</code> </td>
      <td>The stream id of the room. </td>
    </tr>
    <tr>
      <td><code>:creation-date</code> </td>
      <td>The creation date of the room. </td>
    </tr>
    <tr>
      <td><code>:created-by-user-id</code> </td>
      <td>The user id of the user who created the room. </td>
    </tr>
    <tr>
      <td><code>:active</code> </td>
      <td>A boolean indicating whether the room is active or not. </td>
    </tr>
    <tr>
      <td><code>:name</code> </td>
      <td>The name of the room. </td>
    </tr>
    <tr>
      <td><code>:description</code> </td>
      <td>The description of the room. </td>
    </tr>
    <tr>
      <td><code>:public</code> </td>
      <td>A boolean indicating whether the room is public. </td>
    </tr>
    <tr>
      <td><code>:read-only</code> </td>
      <td>A boolean indicating whether the room is read only. </td>
    </tr>
    <tr>
      <td><code>:discoverable</code> </td>
      <td>A boolean indicating whether the room is discoverable (can be found via search). </td>
    </tr>
    <tr>
      <td><code>:copy-protected</code> </td>
      <td>A boolean indicating whether the room is copy protected. </td>
    </tr>
    <tr>
      <td><code>:can-members-invite</code> </td>
      <td>A boolean indicating whether members of the room can invite other users to the room. </td>
    </tr>
    <tr>
      <td><code>:keywords</code> </td>
      <td>A map of ‘keywords’ (key/value pairs, both of which are strings) for the room. </td>
    </tr>
  </tbody>
</table></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L26">view source</a></div></div><div class="public anchor" id="var-roomobjs"><h3>roomobjs</h3><div class="usage"><code>(roomobjs c)</code></div><div class="doc"><div class="markdown"><p>Returns a lazy sequence containing all <code>org.symphonyoss.symphony.clients.model.SymRoomDetail</code> objects for the authenticated connection user.</p>
<p><strong>WARNING:</strong> this methods results in many calls to the server. Use with caution!</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L99">view source</a></div></div><div class="public anchor" id="var-rooms"><h3>rooms</h3><div class="usage"><code>(rooms c)</code></div><div class="doc"><div class="markdown"><p>Returns a lazy sequence containing all rooms (as maps) for the authenticated connection user.</p>
<p><strong>WARNING:</strong> this methods results in many calls to the server. Use with caution!</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L109">view source</a></div></div><div class="public anchor" id="var-update-room.21"><h3>update-room!</h3><div class="usage"><code>(update-room! c r)</code></div><div class="doc"><div class="markdown"><p>Updates the details of an existing room (provided as a map), returning the updated room (as a map).</p>
<p>The new room details map may contain these keys (additional keys offered by <a href="clj-symphony.room.html#var-create-roomobj.21">create-roomobj!</a> cannot be modified post-creation):</p>
<table>
  <thead>
    <tr>
      <th>Key </th>
      <th>Description </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>:stream-id</code> </td>
      <td>The stream id of the room. </td>
    </tr>
    <tr>
      <td><code>:name</code> </td>
      <td>The new name for the room. </td>
    </tr>
    <tr>
      <td><code>:description</code> </td>
      <td>The new description of the room. </td>
    </tr>
    <tr>
      <td><code>:discoverable</code> </td>
      <td>Boolean indicating whether the room is to become discoverable (searchable). </td>
    </tr>
    <tr>
      <td><code>:copy-protected</code> </td>
      <td>Boolean indicating whether the room is to become copy protected. </td>
    </tr>
    <tr>
      <td><code>:can-members-invite</code> </td>
      <td>Boolean indicating whether members will be allowed to invite others to the room. </td>
    </tr>
    <tr>
      <td><code>:keywords</code> </td>
      <td>A map containing the new ‘keywords’ (key/value pairs, both of which must be strings) for the room. </td>
    </tr>
  </tbody>
</table>
<p><code>:stream-id</code> is mandatory (it must be present and cannot be <code>nil</code>).</p></div></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/room.clj#L192">view source</a></div></div></div></body></html>